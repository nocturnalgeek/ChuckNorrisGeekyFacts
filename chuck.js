var chuck_norris_geeky_facts = [
	"When Chuck Norris throws exceptions, it's across the room.",
	"All arrays Chuck Norris declares are of infinite size, because Chuck Norris knows no bounds.",
	"Chuck Norris doesn't have disk latency because the hard drive knows to hurry the hell up.",
	"Chuck Norris writes code that optimizes itself.",
	"Chuck Norris can't test for equality because he has no equal.",
	"Chuck Norris doesn't need garbage collection because he doesn't call .Dispose(), he calls .DropKick().",
	"Chuck Norris' first program was kill -9.",
	"All browsers support the hex definitions #chuck and #norris for the colors black and blue.",
	"MySpace actually isn't your space, it's Chuck's (he just lets you use it).",
	"Chuck Norris can write infinite recursion functions... and have them return.",
	"Chuck Norris can solve the Towers of Hanoi in one move.",
	"Project managers never ask Chuck Norris for estimations... ever!",
	"Chuck Norris doesn't use web standards as the web will conform to him.",
	"\"It works on my machine\" always holds true for Chuck Norris.",
	"Chuck Norris can delete the Recycle Bin.",
	"Chuck Norris' beard can type 140 wpm.",
	"Chuck Norris can unit-test entire applications with a single assert.",
	"Chuck Norris doesn't bug hunt as that signifies a probability of failure, he goes bug killing.",
	"Chuck Norris' keyboard doesn't have a Ctrl key because NOTHING Controls Chuck Norris!",
	"When Chuck Norris is surfing websites on Internet Explorer, he gets this warning message: \"Warning: Internet Explorer has deemed this user to be malicious or dangerous.  Proceed?\".",
	"Fact: Chuck Norris' keyboard has 2 keys: 0 and 1.",
	"Chuck Norris can make a class that is both abstract and final.",
	"Chuck Norris could use anything in java.util.* to kill you, including the javadocs.",
	"Chuck Norris demonstrated the meaning of Float.POSITIVE_INFINITY by counting to it, twice.",
	"A synchronize doesn't protect against Chuck Norris, if he wants the object, he takes it.",
	"Chuck Norris doesn't use javac, he codes java by using a binary editor on the class files.",
	"Chuck Norris' java code never needs to be optimized. His code is so fast that it broke the speed of light during a test run in Sun's labs killing 37 people.",
	"When someone attempts to use one of Chuck Norris' deprecated methods, they automatically get a roundhouse kick to the face at compile time.",
	"The java.lang package originally contained a ChuckNorris class, but it punched its way out the package during a design review and roundhouse kicked Bill Joy in the face.",
	"Chuck Norris never has a bug in his code, EVER!",
	"Chuck Norris doesn't write code. He stares at a computer screen until he gets the progam he wants.",
	"Code runs faster when Chuck Norris watches it.",
	"Chuck Norris' binary edited classes ignore Java bytecode verifier.",
	"Chuck Norris methods don't catch exceptions because no one has the guts to throw any at them.",
	"Chuck Norris will cast a value to any type just by staring at it.",
	"If you get a ChuckNorrisException you'll probably die.",
	"Chuck Norris is the only one who can use goto and const in Java.",
	"Chuck Norris can compile Java code in .NET Framework, obviously just by staring at it.",
	"Chuck Norris' code can roundhouse kick all other Java Objects' privates.",
	"Chuck Norris eats JavaBeans and Roundhouse Kicks JavaServer Faces!",
	"Chuck Norris can divide by 0!",
	"Garbage collector only runs on Chuck Norris' code to collect the bodies.",
	"Every single line code of Chuck Norris runs in real time. Even in a multi threading application.",
	"When a CPU loads a Chuck Norris class file, it doubles the speed.",
	"Chuck Norris can execute 64bit length instructions in a 32bit CPU.",
	"Chuck Norris implements \"Indestructible\". All the other creatures implements \"Killable\".",
	"Chuck Norris only programs Java web applications to get a .WAR in the end.",
	"Chuck Norris once roundhouse kicked a Java class very hard. The result is known as a inner class.",
	"Chuck Norris can do multiple inheritance in Java.",
	"JVM never throws exceptions to Chuck Norris, not anymore. 753 killed Sun engineers is enough.",
	"Chuck Norris doesn't need unit tests because his code always works. ALWAYS.",
	"Chuck Norris extends God.",
	"Chuck Norris' classes can't be decompiled... don't bother trying.",
	"Chuck Norris can use pointers in Java.",
	"Chuck Norris can override a final function.",
	"Java visibility levels are public, default, protected, private and \"protected by Chuck Norris\", don't try to access a field with this last modifier or you will get a Roundhouse kick to the face at runtime.",
	"Attempting to throw a ChuckNorrisException will result in failure and will terminate your program. Why? Because, you don't throw Chuck Norris... Chuck Norris throws YOU!",
	"Chuck writes directly in binary. He then writes the source code as documentation for other developers.",
	"Chuck was forced to invent asynchronous APIs one day when he optimized a function so that it returned before it was invoked.",
	"Chuck Norris wrote a complete Perl 6 implementation in a day, but then destroyed all evidence with his bare hands, so no one will know his secrets.",
	"Chuck Norris refactors 10 million lines of Perl code before lunch.",
	"Chuck Norris does not code; when he sits at a computer, it just does whatever he wants.",
	"Chuck Norris doesn't make mistakes. He corrects God.",
	"Code is too scared of Chuck Norris to be wrong.",
	"Chuck Norris has actually been using Perl 6 since 1987, and has been waiting for Larry to play catch-up.",
	"\"My only boss is God. And Chuck Norris who is his boss.\"",
	"Chuck Norris writes understandable Perl code.",
	"Chuck Norris can read Perl code that was RSA encrypted.",
	"Chuck Norris once wrote a 10 million lines C++ program in Microsoft Notepad without having to use the backspace key. And it compiled without errors or warnings, and was 100% bug-free.",
	"Only perl and Chuck Norris can parse Perl.",
	"All Chuck Norris has to do is look at Perl code and it interprets itself out of fear and respect.",
	"Chuck Norris wrote a program in Python that was easier to understand after being encrypted with RSA.",
	"The SQL condition \"LIKE '%Chuck Norris%'\" can only return Chuck Norris himself. Because nothing is like Chuck Norris.",
	"Chuck Norris is never shown a login window. The computers sense his awesomeness and automagically log him in with administrator privileges.",
	"sudo is an alias for \"do this or i will roundhouse kick you\".",
	"In C++ you only need to #include <ChuckNorris>.",
	"Chuck Norris' Keyboard does not have any F1 key, he never needs any help.",
	"Chuck Norris has no need for a compress utility. He just stares at the files and they shrink in fear.",
	"Chuck Norris debugs binary code using a pencil and a sheet of paper.",
	"It was Chuck Norris that bit the apple in the Apple logo.",
	"Chuck Norris uses windows 64 bit on 32 bit machine.",
	"The C in \"C language\" means Chuck.",
	"An infinite loop in a Chuck Norris program takes 2.1 seconds to finish.",
	"Chuck Norris' code has no error handling. Chuck Norris' code has no errors.",
	"Chuck Norris's preferred sorting algorithm is killsort. It kills everything that is out of place.",
	"fork() in a Chuck Norris program returns a roundhouse kick in the face... there can be only one!!!",
	"In plain C# every statement ends with a semicolon. But in Chuck Norris C# code all statements end with one or more exclamation marks. Because everything Chuck Norris does is amazing!",
	"Chuck Norris can deny the \"License Agreement\" and still be able to install the software.",
	"Google won't search for Chuck Norris because it knows you don't find Chuck Norris, he finds you.",
	"Chuck Norris wrote Hello World once... it was called Unix."
];

// define and call the function right away for initial page load!
(getAFact = function() {
	// check if we're out of facts to avoid an indexOutOfBounds exception
	if(chuck_norris_geeky_facts.length === 0) {
		// all the facts have been seen, tell user that they're done.
		$("#fact").text("Chuck Norris can create infinite geeky facts about himself, but we can't! Check out our GitHub page to help add more!");
	} else {
		// there are still facts in the array, so picks a random one
		var index = Math.floor(Math.random() * chuck_norris_geeky_facts.length);
		$("#fact").text(chuck_norris_geeky_facts[index]);

		// remove this fact from the facts list to avoid repeating facts
		chuck_norris_geeky_facts.splice(index, 1);
	}
})();

// define the function to tweet
function tweet(event) {

	// do nothing you douchebag!
  event.preventDefault();

  // default parameters
	defaults = {
		'text' : '',
		'url'     : window.location.href,
		'height'  : 450,
		'width'   : 550,
		'top'     : $(window).height()/2 - 225,
		'left'    : $(window).width()/2
	};

	// merge default parameters with the one eventually passed to the function
	var popUp = $.extend(defaults, event.data.popUp);

	popUp.text = escape(popUp.text);

	var tweetLengthLimit = 140;
	var tweetUrlLengthLimitForHTTP = 22;
	var tweetUrlLengthLimitForHTTPS = 23;
	var spacesBetweenTextAndUrl = 1
	var tweetUrlLengthLimit = window.location.protocol === "https:" ?
														tweetUrlLengthLimitForHTTPS :
														tweetUrlLengthLimitForHTTP;
	var tweetTextLengthLimit = tweetLengthLimit - tweetUrlLengthLimit - spacesBetweenTextAndUrl;
	popUp.text = popUp.text.substring(0, tweetTextLengthLimit) + ' ' + popUp.url;

  // open the Twitter pop-up dialog
  window.open('http://twitter.com/share?url=' + popUp.url +
  						'&text=' + popUp.text +
  						'&',
  						'twitterwindow',
  						'height=' + popUp.height +
  						', width=' + popUp.width +
  						', top=' + popUp.top +
  						', left=' + popUp.left +
  						', toolbar=0, location=0, menubar=0, directories=0, scrollbars=0');
};

// set up handler for when random fact button clicked
$("#random_fact").click(getAFact);
// bind the tweet function
$('.tweet').bind('click tap touchend',
	{
		'popUp' :
		{
			'text' : $('#fact').text(),
		}
	}, tweet);

// google analytics
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-52531701-1', 'auto');
ga('require', 'displayfeatures');
ga('require', 'linkid', 'linkid.js');
ga('send', 'pageview');
